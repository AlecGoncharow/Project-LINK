<!DOCTYPE html>
<html>
<!-- UTIL FILES FOR SYSTEM FUNCTION -->
<script type="text/javascript" src="../utils/webgl-utils.js"></script>
<script type="text/javascript" src="../utils/initShaders.js"></script>

<head>
<title>Project LINK</title>
</head>

<script id="vertex-shader" type="x-shader/x-vertex">
attribute vec3 coordinates;

void main(){
gl_Position =  vec4(coordinates, 1.0);
gl_PointSize = 10.0;
}
</script>

<script id="fragment-shader" type="x-shader/x-fragment">
precision mediump float;
void main(){
    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
}
</script>

<body>
  <canvas id="gl-canvas" width="1024" height="784">
    Oops ... your browser doesn't support the HTML5 canvas element
  </canvas>

  <script>
    /*================Creating a canvas=================*/
    var canvas = document.getElementById("gl-canvas"); //get the canvas instance

    var gl = WebGLUtils.setupWebGL(canvas); //setup the instance
    if ( !gl ) { alert( "WebGL isn't available" ); }

    gl.viewport( 0, 0, canvas.width, canvas.height ); //set the instance view
    gl.clearColor( 1.0, 1.0, 1.0, 1.0 ); //set clear color of canvas
    gl.enable(gl.DEPTH_TEST);

    /*==========Defining and storing the geometry=======*/

    var vertices = [
      -0.5,0.5,0.0,
      0.0,0.5,0.0,
      -0.25,0.25,0.0,
    ];

    var program = initShaders(gl, "vertex-shader", "fragment-shader");
    gl.useProgram(program);

    // Create an empty buffer object to store the vertex buffer
    var vertex_buffer = gl.createBuffer();

    //Bind appropriate array buffer to it
    gl.bindBuffer(gl.ARRAY_BUFFER, vertex_buffer);

    // Pass the vertex data to the buffer
    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW);

    // Unbind the buffer
    gl.bindBuffer(gl.ARRAY_BUFFER, null);

    /*======== Associating shaders to buffer objects ========*/

    // Bind vertex buffer object
    gl.bindBuffer(gl.ARRAY_BUFFER, vertex_buffer);

    // Get the attribute location
    var coord = gl.getAttribLocation(program, "coordinates");

    // Point an attribute to the currently bound VBO
    gl.vertexAttribPointer(coord, 3, gl.FLOAT, false, 0, 0);

    // Enable the attribute
    gl.enableVertexAttribArray(coord);

    /*============= Drawing the primitive ===============*/
    // Draw the triangle
    gl.drawArrays(gl.POINTS, 0, 3);
  </script>
</body>
</html>
